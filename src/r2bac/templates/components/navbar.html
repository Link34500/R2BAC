{% load static %}
<link rel="stylesheet" href="{% static 'css/components/navbar.css'%}" />
<header>
<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a href="{% url 'home' %}"><img src="{% static 'logo.svg' %}" class="navbar-item image" width="80px" /></a>

    {% if request.user.is_authenticated %}
    <div class="dropdown is-right avatar" id="dropdown-user">
      <div class="dropdown-trigger" id="avatar-button">
        <img src="{% if request.user.profile.avatar %}{{ request.user.profile.avatar.url }}{% else %}{% static 'avatar_blank.png'%}{% endif %}" alt="Photo de profil" class="image profile-picture">
      </div>
      <div class="dropdown-menu">
        <div class="dropdown-content">
          <a href="{% url 'accounts:profile'%}" class="dropdown-item">Profil</a>
          <a href="{% url 'accounts:settings' %}" class="dropdown-item">Paramètres</a>
          {% if request.user.is_superuser %}
          <a href="{% url 'panel:home' %}" class="has-background-danger has-text-white dropdown-item">Administration</a>
          {% endif %}
          <hr class="dropdown-divider" />
          <a href="{% url 'accounts:logout' %}" class="dropdown-item">Déconnexion</a>
        </div>
    </div>
    
    </div>
    {% endif %}

    <a
      role="button"
      class="navbar-burger burger"
      aria-label="menu"
      aria-expanded="false"
      data-target="navMenu"
    >

      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
    
  </div>

  <div id="navMenu" class="navbar-menu">
    <div class="navbar-start">
      <a class="navbar-item" href="{% url 'home' %}"> Page d'acceuil </a>
      <a class="navbar-item is-capitalized" href="{% url 'a-propos' %}">à propos </a>
      <a href="{% url 'contact' %}" class="navbar-item">Nous contacter</a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link"> Nos cours </a>

        <div class="navbar-dropdown">
          <a class="navbar-item" href="/courses/seconde">Seconde</a>
          <a class="navbar-item" href="/courses/premiere">Première</a>
        </div>
      </div>
    </div>

    <div class="navbar-end">
      <div class="navbar-item">
        <div class="buttons">
          {% if not request.user.is_authenticated %}
          <a class="button is-primary" href="{% url 'accounts:register'%}">
            S'inscrire
          </a>
          <a class="button is-light" href="{% url 'accounts:login'%}">
            Se connecter
          </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</nav>  
</header>
